<html>
    <head>
        <title> tic-tac-toe</title>
    </head> 

    <style>
        * {
            box-sizing: border-box;
        }

        main {
            width: 90vh;
            display: flex;
            flex-wrap: wrap;
        }

       .cell {
            width: 25vh;
            height: 25vh;
            border: 1px solid black;
            font-size: 10vh;
        }

    </style>

    <body>
        <h1> tic-tac-toe</h1>
     <main id ='board'>
        <div> </div>
        <div> </div>
        <div> </div>

        <div> </div>
        <div> </div>
        <div> </div>

        <div> </div>
        <div> </div>
        <div> </div>
     </main>
          
    </body>

    <script>

// state 
    const state = {};

    const resetState = () =>  { 

    state.board = [ 
    null, null, null,
    null, null, null,
    null, null, null ]

    state.currentPlayer = ['x', 'o']    



    // state.players = ['x', 'o']
    // state.currentPlayerIndex = 0;
 }

    resetState()

// helper functions
// const getCurrentPlayer = () => {
//     return state.players[state.currentPlayerIndex]
//}
 
// const changeTurn = () => {
//     state.currentPlayerIndex = state.currentPlayerIndex === 0 ? 1 : 0;
//}

// render
// const renderState = () => {
//     renderBoard();
//     renderPlayer();
// }


// DOM selectors
const boardElem = document.getElementById('board');
// const playerTurnElem = document.getElementById('player-select');


// DOM manipulations
const renderBoard = () => { 
    boardElem.innerHTML = ''; // reset board
    for (i = 0; i < state.board.length; i++) { // loops through board
        const square = state.board[i]; // renames state.board[i]
        const cellElem = document.createElement('div') 
        cellElem.classList.add('cell');
        cellElem.dataset.index = i; // adds data-index to divs
        cellElem.innerHTML = square;
        boardElem.appendChild(cellElem);
    }
}
// const renderPlayer = () => {
//     let text;
//     if(!state.players[0] || !state.players[1]) {
//         text = `
//        <input name = 'player1' placeholder = 'enter name'> 
//        <input name = 'player2' placeholder = 'enter name'>
//        <button class = 'start'> start </button>
//         `
//     } else {
//         text = `It is ${getCurrentPlayer}'s turn`
//     }
//     playerTurnElem.innerHtml = text;
// }

// event listeners

boardElem.addEventListener('click', (event) => {
    if(event.target.className !== 'cell') return;

    let cellIndex = event.target.dataset.index; //grabs data-index
    state.board[cellIndex] = 'X'


    renderBoard();


}) 

//bootstrapping
resetState();
renderBoard();
// renderPlayer();

    </script>

</html>